import{e as L}from"./index-DCp-5C0O.js";function N(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const c=e.charCodeAt(n);let o="";if(c===37&&L(e.charCodeAt(n+1))&&L(e.charCodeAt(n+2)))i=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(o=String.fromCharCode(c));else if(c>55295&&c<57344){const l=e.charCodeAt(n+1);c<56320&&l>56319&&l<57344?(o=String.fromCharCode(c,l),i=1):o="�"}else o=String.fromCharCode(c);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ee(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function te(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ne(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function re(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ie(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=N(r.toLowerCase()),c=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=c+1,l+=1,e.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const y={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,y),e.applyData(t,y)}function ce(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function le(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function q(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),c=i[0];c&&c.type==="text"?c.value="["+c.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function se(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return q(e,t);const i={src:N(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const c={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,c),e.applyData(t,c)}function ae(e,t){const n={src:N(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function pe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function ue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return q(e,t);const i={href:N(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const c={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,c),e.applyData(t,c)}function fe(e,t){const n={href:N(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function he(e,t,n){const r=e.all(t),i=n?ye(n):G(t),c={},o=[];if(typeof t.checked=="boolean"){const s=r[0];let p;s&&s.type==="element"&&s.tagName==="p"?p=s:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const s=r[l];(i||l!==0||s.type!=="element"||s.tagName!=="p")&&o.push({type:"text",value:`
`}),s.type==="element"&&s.tagName==="p"&&!i?o.push(...s.children):o.push(s)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const y={type:"element",tagName:"li",properties:c,children:o};return e.patch(t,y),e.applyData(t,y)}function ye(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=G(n[r])}return t}function G(e){const t=e.spread;return t??e.children.length>1}function de(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const c={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,c),e.applyData(t,c)}function me(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ge(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function be(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const X=V("end"),K=V("start");function V(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function we(e){const t=K(e),n=X(e);if(t&&n)return{start:t,end:n}}function Ne(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=K(t.children[1]),a=X(t.children[t.children.length-1]);l&&a&&(o.position={start:l,end:a}),i.push(o)}const c={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,c),e.applyData(t,c)}function xe(e,t,n){const r=n?n.children:void 0,c=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let a=-1;const y=[];for(;++a<l;){const p=t.children[a],u={},h=o?o[a]:void 0;h&&(u.align=h);let f={type:"element",tagName:c,properties:u,children:[]};p&&(f.children=e.all(p),e.patch(p,f),f=e.applyData(p,f)),y.push(f)}const s={type:"element",tagName:"tr",properties:{},children:e.wrap(y,!0)};return e.patch(t,s),e.applyData(t,s)}function ke(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const j=9,F=32;function Ce(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const c=[];for(;r;)c.push(M(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return c.push(M(t.slice(i),i>0,!1)),c.join("")}function M(e,t,n){let r=0,i=e.length;if(t){let c=e.codePointAt(r);for(;c===j||c===F;)r++,c=e.codePointAt(r)}if(n){let c=e.codePointAt(i-1);for(;c===j||c===F;)i--,c=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Ae(e,t){const n={type:"text",value:Ce(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function De(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Ie={blockquote:ee,break:te,code:ne,delete:re,emphasis:ie,footnoteReference:oe,heading:ce,html:le,imageReference:se,image:ae,inlineCode:pe,linkReference:ue,link:fe,listItem:he,list:de,paragraph:me,root:ge,strong:be,table:Ne,tableCell:ke,tableRow:xe,text:Ae,thematicBreak:De,toml:k,yaml:k,definition:k,footnoteDefinition:k};function k(){}const Z=-1,S=0,A=1,D=2,O=3,R=4,E=5,T=6,Q=7,W=8,U=typeof self=="object"?self:globalThis,Se=(e,t)=>{const n=(i,c)=>(e.set(c,i),i),r=i=>{if(e.has(i))return e.get(i);const[c,o]=t[i];switch(c){case S:case Z:return n(o,i);case A:{const l=n([],i);for(const a of o)l.push(r(a));return l}case D:{const l=n({},i);for(const[a,y]of o)l[r(a)]=r(y);return l}case O:return n(new Date(o),i);case R:{const{source:l,flags:a}=o;return n(new RegExp(l,a),i)}case E:{const l=n(new Map,i);for(const[a,y]of o)l.set(r(a),r(y));return l}case T:{const l=n(new Set,i);for(const a of o)l.add(r(a));return l}case Q:{const{name:l,message:a}=o;return n(new U[l](a),i)}case W:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new U[c](o),i)};return r},_=e=>Se(new Map,e)(0),w="",{toString:Pe}={},{keys:Be}=Object,x=e=>{const t=typeof e;if(t!=="object"||!e)return[S,t];const n=Pe.call(e).slice(8,-1);switch(n){case"Array":return[A,w];case"Object":return[D,w];case"Date":return[O,w];case"RegExp":return[R,w];case"Map":return[E,w];case"Set":return[T,w]}return n.includes("Array")?[A,n]:n.includes("Error")?[Q,n]:[D,n]},C=([e,t])=>e===S&&(t==="function"||t==="symbol"),Oe=(e,t,n,r)=>{const i=(o,l)=>{const a=r.push(o)-1;return n.set(l,a),a},c=o=>{if(n.has(o))return n.get(o);let[l,a]=x(o);switch(l){case S:{let s=o;switch(a){case"bigint":l=W,s=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);s=null;break;case"undefined":return i([Z],o)}return i([l,s],o)}case A:{if(a)return i([a,[...o]],o);const s=[],p=i([l,s],o);for(const u of o)s.push(c(u));return p}case D:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return c(o.toJSON());const s=[],p=i([l,s],o);for(const u of Be(o))(e||!C(x(o[u])))&&s.push([c(u),c(o[u])]);return p}case O:return i([l,o.toISOString()],o);case R:{const{source:s,flags:p}=o;return i([l,{source:s,flags:p}],o)}case E:{const s=[],p=i([l,s],o);for(const[u,h]of o)(e||!(C(x(u))||C(x(h))))&&s.push([c(u),c(h)]);return p}case T:{const s=[],p=i([l,s],o);for(const u of o)(e||!C(x(u)))&&s.push(c(u));return p}}const{message:y}=o;return i([l,{name:a,message:y}],o)};return c},z=(e,{json:t,lossy:n}={})=>{const r=[];return Oe(!(t||n),!!t,new Map,r)(e),r},I=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?_(z(e,t)):structuredClone(e):(e,t)=>_(z(e,t));function Re(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Ee(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Te(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Re,r=e.options.footnoteBackLabel||Ee,i=e.options.footnoteLabel||"Footnotes",c=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<e.footnoteOrder.length;){const y=e.footnoteById.get(e.footnoteOrder[a]);if(!y)continue;const s=e.all(y),p=String(y.identifier).toUpperCase(),u=N(p.toLowerCase());let h=0;const f=[],d=e.footnoteCounts.get(p);for(;d!==void 0&&++h<=d;){f.length>0&&f.push({type:"text",value:" "});let g=typeof n=="string"?n:n(a,h);typeof g=="string"&&(g={type:"text",value:g}),f.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,h),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const m=s[s.length-1];if(m&&m.type==="element"&&m.tagName==="p"){const g=m.children[m.children.length-1];g&&g.type==="text"?g.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...f)}else s.push(...f);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(s,!0)};e.patch(y,b),l.push(b)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:c,properties:{...I(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const $=function(e){if(e==null)return Me;if(typeof e=="function")return P(e);if(typeof e=="object")return Array.isArray(e)?Le(e):je(e);if(typeof e=="string")return Fe(e);throw new Error("Expected function, string, or object as test")};function Le(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=$(e[n]);return P(r);function r(...i){let c=-1;for(;++c<t.length;)if(t[c].apply(this,i))return!0;return!1}}function je(e){const t=e;return P(n);function n(r){const i=r;let c;for(c in e)if(i[c]!==t[c])return!1;return!0}}function Fe(e){return P(t);function t(n){return n&&n.type===e}}function P(e){return t;function t(n,r,i){return!!(Ue(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Me(){return!0}function Ue(e){return e!==null&&typeof e=="object"&&"type"in e}const v=[],_e=!0,H=!1,ze="skip";function He(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const c=$(i),o=r?-1:1;l(e,void 0,[])();function l(a,y,s){const p=a&&typeof a=="object"?a:{};if(typeof p.type=="string"){const h=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(u,"name",{value:"node ("+(a.type+(h?"<"+h+">":""))+")"})}return u;function u(){let h=v,f,d,m;if((!t||c(a,y,s[s.length-1]||void 0))&&(h=Je(n(a,s)),h[0]===H))return h;if("children"in a&&a.children){const b=a;if(b.children&&h[0]!==ze)for(d=(r?b.children.length:-1)+o,m=s.concat(b);d>-1&&d<b.children.length;){const g=b.children[d];if(f=l(g,d,m)(),f[0]===H)return f;d=typeof f[1]=="number"?f[1]:d+o}}return h}}}function Je(e){return Array.isArray(e)?e:typeof e=="number"?[_e,e]:e==null?v:[e]}function Ye(e,t,n,r){let i,c,o;typeof t=="function"&&typeof n!="function"?(c=void 0,o=t,i=n):(c=t,o=n,i=r),He(e,c,l,i);function l(a,y){const s=y[y.length-1],p=s?s.children.indexOf(a):void 0;return o(a,p,s)}}const B={}.hasOwnProperty,qe={};function Ge(e,t){const n=t||qe,r=new Map,i=new Map,c=new Map,o={...Ie,...n.handlers},l={all:y,applyData:Ke,definitionById:r,footnoteById:i,footnoteCounts:c,footnoteOrder:[],handlers:o,one:a,options:n,patch:Xe,wrap:Ze};return Ye(e,function(s){if(s.type==="definition"||s.type==="footnoteDefinition"){const p=s.type==="definition"?r:i,u=String(s.identifier).toUpperCase();p.has(u)||p.set(u,s)}}),l;function a(s,p){const u=s.type,h=l.handlers[u];if(B.call(l.handlers,u)&&h)return h(l,s,p);if(l.options.passThrough&&l.options.passThrough.includes(u)){if("children"in s){const{children:d,...m}=s,b=I(m);return b.children=l.all(s),b}return I(s)}return(l.options.unknownHandler||Ve)(l,s,p)}function y(s){const p=[];if("children"in s){const u=s.children;let h=-1;for(;++h<u.length;){const f=l.one(u[h],s);if(f){if(h&&u[h-1].type==="break"&&(!Array.isArray(f)&&f.type==="text"&&(f.value=J(f.value)),!Array.isArray(f)&&f.type==="element")){const d=f.children[0];d&&d.type==="text"&&(d.value=J(d.value))}Array.isArray(f)?p.push(...f):p.push(f)}}}return p}}function Xe(e,t){e.position&&(t.position=we(e))}function Ke(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,c=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&c&&Object.assign(n.properties,I(c)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Ve(e,t){const n=t.data||{},r="value"in t&&!(B.call(n,"hProperties")||B.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ze(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function J(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Y(e,t){const n=Ge(e,t),r=n.one(e,void 0),i=Te(n),c=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&c.children.push({type:"text",value:`
`},i),c}function We(e,t){return e&&"run"in e?async function(n,r){const i=Y(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Y(n,{file:r,...t||e})}}export{We as default,Re as defaultFootnoteBackContent,Ee as defaultFootnoteBackLabel,Ie as defaultHandlers};
